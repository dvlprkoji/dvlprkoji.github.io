<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="스프링 예외(Exception)" /><meta property="og:locale" content="en" /><meta name="description" content="잘못된 예외 처리 코드는 찾기 힘든 버그를 낳을 수 있다 대표적인 잘못된 예외 처리 코드를 알아보고 예외 처리 전략도 알아보자" /><meta property="og:description" content="잘못된 예외 처리 코드는 찾기 힘든 버그를 낳을 수 있다 대표적인 잘못된 예외 처리 코드를 알아보고 예외 처리 전략도 알아보자" /><link rel="canonical" href="https://dvlprkoji.github.io/posts/spring-exception/" /><meta property="og:url" content="https://dvlprkoji.github.io/posts/spring-exception/" /><meta property="og:site_name" content="Koji’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-12-01T09:00:01+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="스프링 예외(Exception)" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-12-01T09:00:01+09:00","datePublished":"2021-12-01T09:00:01+09:00","description":"잘못된 예외 처리 코드는 찾기 힘든 버그를 낳을 수 있다 대표적인 잘못된 예외 처리 코드를 알아보고 예외 처리 전략도 알아보자","headline":"스프링 예외(Exception)","mainEntityOfPage":{"@type":"WebPage","@id":"https://dvlprkoji.github.io/posts/spring-exception/"},"url":"https://dvlprkoji.github.io/posts/spring-exception/"}</script><title>스프링 예외(Exception) | Koji's Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Koji's Blog"><meta name="application-name" content="Koji's Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn-icons-png.flaticon.com/512/822/822123.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Koji's Blog</a></div><div class="site-subtitle font-italic">Backend Develeoper</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/dvlprkoji" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['koji4321','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>스프링 예외(Exception)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>스프링 예외(Exception)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> koji </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Dec 1, 2021, 9:00 AM +0900" >Dec 1, 2021<i class="unloaded">2021-12-01T09:00:01+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2445 words">13 min read</span></div></div><div class="post-content"><p>잘못된 예외 처리 코드는 찾기 힘든 버그를 낳을 수 있다 대표적인 잘못된 예외 처리 코드를 알아보고 예외 처리 전략도 알아보자</p><h3 id="예외-블랙홀">예외 블랙홀</h3><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">try</span><span class="o">{</span>
    <span class="c1">// SQL 쿼리 전송</span>
<span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">){</span>
<span class="o">}</span>
</pre></table></code></div></div><p>예외가 발생하면 그것을 잡아내는 것은 좋은데, 아무것도 아닌 것처럼 넘어가면 문제가 발생한다 결국 발생 예외로 인해 어떤 기능이 비정상 동작하거나, 메모리나 리소스가 소진되는 경우가 발생할 것이다</p><p>비슷한 코드로 다음과 같은 코드들이 있다</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">try</span><span class="o">{</span>
    <span class="c1">// SQL 쿼리 전송</span>
<span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">){</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
<span class="o">}</span>
</pre></table></code></div></div><p>발생한 예외를 콘솔에 출력해 주고는 있지만, 이는 그냥 넘어갈 확률이 높기 때문에 동일하다고 볼 수 있다 그렇다면 어떻게 처리해야 할까</p><p>예외를 처리할 때 반드시 지켜야 할 핵심 원칙은 한 가지다 모든 예외는 적절하게 복구되던지 작업을 중단하고 관리자에게 분명히 통보되어야 한다</p><h3 id="무책임한-throws">무책임한 throws</h3><p>catch 블록으로 예외를 잡아 봐야 해결할 방법도 없고, 수많은 API나 라이브러리가 던지는 예외들을 매번 throws로 처리하기 귀찮아지면 다음과 같은 코드가 탄생한다</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Class1</span><span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method1</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">{</span>
      <span class="n">method2</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method2</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">{</span>
      <span class="n">method3</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method3</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">{}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>이러한 메서드를 통해 의미있는 정보를 얻을 수 없다 단순히 습관적으로 붙인 것인지, 어떤 예외가 발생할 수 있는 것인지 알 수 없게 되어버린다 또한 적절히 처리될 수 있는 예외들도 그냥 넘어가는 문제가 발생할 수 있다</p><h2 id="예외의-종류와-특징">예외의 종류와 특징</h2><p>자바에서 throw를 통해 발생시킬 수 있는 예외에는 3가지가 있다</p><h3 id="error">Error</h3><p>첫째는 java.lang.Error 클래스의 서브클래스들이다 에러는 시스템적 문제가 발생하였을 때 사용된다 예를 들면 OutOfMemoryError나 ThreadDeath같은 것이 있다 이러한 에러는 처리할 수 있는 것이 없으므로 신경쓰지 않아도 된다</p><h3 id="exception과-체크-예외">Exception과 체크 예외</h3><p>java.lang.Exception 클래스와 그 서브클래스로 정의되는 예외들은 개발자들이 어플리케이션 코드의 작업 중 예외상황이 발생했을경우 사용된다</p><p>Exception 예외는 <strong>체크 예외</strong>와 <strong>언체크 예외</strong>로 나뉘는데 언체크 예외는 Exception.RuntimeException 클래스를 상속받은 예외를 말하고 체크 예외는 상속받지 않은 예외를 말한다</p><p>체크 예외가 발생할 수 있는 메소드를 사용할 경우 반드시 예외를 처리하는 코드를 함께 작성해야 한다 언체크 예외는 런타임 클래스를 상속받기에 런타임 예외라고 불리기도 한다</p><p>먼저 예외를 처리하는 일반적인 방법을 생각해보고 효과적인 예외처리 전략을 생각해보자</p><h3 id="예외-복구">예외 복구</h3><p>첫 번째 예외 처리 방법은 예외상황을 파악하고 문제를 해결해서 정상 상태로 돌려놓는 것이다 예외처리를 강제하는 체크 예외는 개발자로 하여금 예외상황이 발생할 수 있음을 인식하도록 도와주고, 이에 대한 적절한 처리를 시도해보도록 요구하는 것이다</p><p>예를 들어 DB 서버에 접속하는 코드가 있다고 하면, DB서버 접속에 실패했을 경우 재시도를 해볼 수 있을 것이다</p><h3 id="예외처리-회피">예외처리 회피</h3><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">SQLException</span><span class="o">{</span>
  <span class="k">try</span><span class="o">{</span>
      <span class="c1">// JDBC API</span>
  <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">){</span>
      <span class="c1">// 에러 출력</span>
      <span class="k">throw</span> <span class="n">e</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>이처럼 만약 예외 처리가 자신의 역할이 아니라고 생각하면 예외를 밖으로 던져버릴 수 있다 이러한 방법은 꼭 분명한 의도를 가지고 있어야 한다 던진 예외를 받은 쪽에서도 자신의 역할이 아니라고 생각하면 또 예외를 밖으로 던지게 될 것이다</p><h3 id="예외처리-전환">예외처리 전환</h3><p>마지막으로, 예외를 처리하는 방법에 예외 전환이 있다 예외를 받아서 적절한 예외로 전환하여 밖으로 던지는데 이는 분명 예외 회피와는 다르다 예외 전환은 보통 두 가지 목적으로 사용된다</p><p>첫째, API에서 발생한 로우레벨의 예외를 상황에 적합한 의미를 가진 예외로 변경하는 것이다 예를 들어 동일한 ID를 가진 사용자를 DB에 등록하려고 하면 SQLException을 발생시킬 것이다 이 메소드를 그대로 밖으로 던져버리면 서비스 계층에서는 왜 SQLException이 발생했는지 알 수 없을 것이다 만약 SQLException을 DuplicateUserIdException같은 예외로 바꾸어 던진다면, 서비스 계층에서는 적절한 복구 작업을 시도할 수 있을 것이다</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">SQLException</span><span class="o">{</span>
  <span class="k">try</span><span class="o">{</span>
      <span class="c1">// JDBC API</span>
  <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">){</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getErrorCode</span><span class="o">()</span> <span class="o">==</span> <span class="nc">MysqlErrorNumbers</span><span class="o">.</span><span class="na">ER_DUP_ENTRY</span><span class="o">){</span>
        <span class="k">throw</span> <span class="nf">DuplicateUserIdException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="k">else</span><span class="o">{</span>
        <span class="k">throw</span> <span class="n">e</span><span class="o">;</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>보통 전환하는 예외에 원래 발생한 예외를 담아 중첩 예외를 만드는 것이 좋다 그래서 SQLException을 생성자의 파라미터로 전달했다</p><p>다음으로 예외를 처리하기 쉽게 만들기 위해 포장하는 것이다 의미를 명확하게 하려고 포장하는 것이 아니라는 점에서 첫번째 방법과는 다르다</p><p>예를 들면 EJBException을 들 수 있다 EJB 컴포넌트에서 발생하는 예외는 대부분 복구 가능한 예외가 아니므로 런타임 예외인 EJBException으로 포장해 던지는 것이다 이렇게 처리할 경우 시스템 익셉션으로 파악하고 트랜잭션을 자동으로 롤백해준다</p><h2 id="예외처리-전략">예외처리 전략</h2><h3 id="런타임-예외의-일반화-낙관적-예외-처리">런타임 예외의 일반화 (낙관적 예외 처리)</h3><p>일반적으로 체크 예외는 꼭 처리해야 할 예외, 언체크 예외는 처리할 필요가 없는 예외라고 하였다 하지만 스프링 서버 환경에서는 이런 방식을 적용하지 않는 경우가 많다</p><p>단일 사용자 환경에서 오류가 발생했을 경우, 예를 들어 엑셀 파일과 같은 경우 오류는 반드시 복구되어야 한다 하지만 다중 사용자 환경인 서버 환경에서, 작업을 중단하고 복구할 방법은 없다 따라서 예외사항을 미리 파악하고 예외가 발생하지 않도록 하거나, 예외가 발생하면 중단하고 관리자가 알도록 해야 할 것이다</p><p>따라서 위에서 사용한 add 메소드를 런타임 예외로 전환하여 사용할 것이다 중복 ID로 인해 발생한 예외는 외부에서 충분히 처리 가능한 예외이므로 이는 그대로 놔둘 것이다</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">DuplicateUserIdException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span><span class="o">{</span>
    <span class="kd">public</span> <span class="nf">DuplicateUserIdException</span><span class="o">(</span><span class="nc">Throwable</span> <span class="n">cause</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">cause</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">SQLException</span><span class="o">{</span>
  <span class="k">try</span><span class="o">{</span>
      <span class="c1">// JDBC API</span>
  <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">){</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getErrorCode</span><span class="o">()</span> <span class="o">==</span> <span class="nc">MysqlErrorNumbers</span><span class="o">.</span><span class="na">ER_DUP_ENTRY</span><span class="o">){</span>
        <span class="k">throw</span> <span class="nf">DuplicateUserIdException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>      <span class="c1">// 예외 전환</span>
      <span class="o">}</span>
      <span class="k">else</span><span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>          <span class="c1">// 예외 포장</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="애플리케이션-예외">애플리케이션 예외</h3><p>외부의 예외 상황이 아니라 애플리케이션 자체의 로직에 의해 발생하도록 만든 예외를 애플리케이션 예외라고 한다 예를 들어 보유한 금액 이상을 출금하는 명령이 들어왔을 때 허용한 범위를 체크한 뒤 적절한 경고를 사용자에게 보내야 할 것이다</p><p>이러한 경우, 각 상황에 따라 리턴 값을 다르게 줄 수 있다 성공할 경우 0, 실패할 경우 -1 등으로 주는 것이다 하지만, 이렇게 리턴 값으로 예외상황을 체크할 경우 리턴 값을 체졔적으로 관리하지 않으면 혼란이 올 수 있다</p><p>그 다음 방법으로, 예외 상황에 대해서는 비즈니스적인 의미를 띈 예외를 던지도록 만드는 것이다 잔고 부족의 경우 InsufficientBalanceException을 던지는 것이다</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">try</span><span class="o">{</span>
    <span class="nc">BigDecimal</span> <span class="n">balance</span> <span class="o">=</span> <span class="n">account</span><span class="o">.</span><span class="na">withdraw</span><span class="o">(</span><span class="n">amount</span><span class="o">);</span>
<span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">InsufficientBalanceException</span> <span class="n">e</span><span class="o">){</span>
    <span class="nc">BigDecimal</span> <span class="n">availFunds</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getAvailFunds</span><span class="o">();</span>
    <span class="c1">// 잔고 부족 메시지 출력</span>
<span class="o">}</span>
</pre></table></code></div></div><p>이번 포스팅에서 알아본 내용들을 정리하면 다음과 같다</p><ul><li>예외를 잡아서 아무런 조취를 취하지 않거나 의미없는 throws 선언을 남발하는 것은 위험하다<li>예외는 복구하거나 적절한 예외로 전환해야 한다<li>좀더 의미있는 예외로 변경하거나, 불필요한 catch/throws를 피하기 위해 런타임 예외로 포장하자<li>복구할 수 없는 예외는 런타임 예외로 전환하자<li>애플리케이션 로직을 담기 위한 예외는 체크 예외로 만든다<li>SQLException의 에러 코드는 DB에 종속되기 때문에 DB에 독립적인 예외로 전환될 필요가 있다<li>스프링은 DataAccessException을 통해 DB에 독립적으로 적용 가능한 추상화된 런타임 예외를 제공한다</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/spring/'>Spring</a>, <a href='/categories/core/'>Core</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/spring/" class="post-tag no-text-decoration" >spring</a> <a href="/tags/exception/" class="post-tag no-text-decoration" >exception</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=스프링 예외(Exception) - Koji's Blog&url=https://dvlprkoji.github.io/posts/spring-exception/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=스프링 예외(Exception) - Koji's Blog&u=https://dvlprkoji.github.io/posts/spring-exception/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=스프링 예외(Exception) - Koji's Blog&url=https://dvlprkoji.github.io/posts/spring-exception/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/spring-batch/">스프링 배치(Spring Batch) - 1. 스프링 배치 시작</a><li><a href="/posts/java-threadlocal/">자바 쓰레드 로컬(ThreadLocal)</a><li><a href="/posts/develop-oop/">객체 지향 설계 (OOP, Object Oriented Programming)</a><li><a href="/posts/spring-test/">스프링 테스트(test)</a><li><a href="/posts/dictionary/">객체 지향 설계의 5가지 원칙(OOP, Object Oriented Programming)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/batch/">batch</a> <a class="post-tag" href="/tags/comparable/">comparable</a> <a class="post-tag" href="/tags/comparator/">comparator</a> <a class="post-tag" href="/tags/servlet-container/">servlet container</a> <a class="post-tag" href="/tags/spring-container/">spring container</a> <a class="post-tag" href="/tags/spring-security/">spring security</a> <a class="post-tag" href="/tags/abstract-class/">abstract class</a> <a class="post-tag" href="/tags/abstract-method/">abstract method</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/spring-template/"><div class="card-body"> <span class="timeago small" >Dec 1, 2021<i class="unloaded">2021-12-01T09:00:01+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>예제로 알아보는 스프링 템플릿(Template), 콜백(Callback)</h3><div class="text-muted small"><p> 이전에 작성했던 DB 커넥션 코드들 중 UserDao의 가장 단순한 메서드인 deleteAll()를 살펴보자 1 2 3 4 5 6 7 8 9 10 11 public class UserDao{ public void deleteAll() throws SQLException{ Connection c = dataSource.getConnect...</p></div></div></a></div><div class="card"> <a href="/posts/spring-service-abstraction/"><div class="card-body"> <span class="timeago small" >Dec 2, 2021<i class="unloaded">2021-12-02T09:00:01+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>스프링 서비스 추상화(Service Abstraction)</h3><div class="text-muted small"><p></p></div></div></a></div><div class="card"> <a href="/posts/web-servlet/"><div class="card-body"> <span class="timeago small" >Sep 27, 2021<i class="unloaded">2021-09-27T09:00:01+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>서블릿 컨테이너와 스프링 컨테이너</h3><div class="text-muted small"><p> 서블릿 컨테이너란? 서블릿은 개발자로 하여금 핵심 비즈니스 로직만 처리할 수 있도록 다양한 기능들을 수행한다 이러한 서블릿을 관리하는 서블릿들의 생성, 실행, 파괴, 즉 서블릿의 생명주기를 관리한다 스프링 컨테이너란? 스프링 컨테이너는 스프링 빈의 생명주기를 관리한다 스프링 빈의 생명주기는 다음과 같다 스프링 컨테이너 생성 -&gt; 스프링 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/spring-test/" class="btn btn-outline-primary" prompt="Older"><p>스프링 테스트(test)</p></a> <a href="/posts/spring-template/" class="btn btn-outline-primary" prompt="Newer"><p>예제로 알아보는 스프링 템플릿(Template), 콜백(Callback)</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/dvlprkoji">koji</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/batch/">batch</a> <a class="post-tag" href="/tags/comparable/">comparable</a> <a class="post-tag" href="/tags/comparator/">comparator</a> <a class="post-tag" href="/tags/servlet-container/">servlet container</a> <a class="post-tag" href="/tags/spring-container/">spring container</a> <a class="post-tag" href="/tags/spring-security/">spring security</a> <a class="post-tag" href="/tags/abstract-class/">abstract class</a> <a class="post-tag" href="/tags/abstract-method/">abstract method</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://dvlprkoji.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
