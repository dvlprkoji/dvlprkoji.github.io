`

#6장. 웹어플리케이션 보안

> SQL Injection 공격?

> XSS 공격?

> CSRF 공격?

취약점 점검 : 설계상 취약점, 관리자 설정 부주의 등

CVE : 알려진 취약점

취약점 : 제로데이 원데이 올데이

취약점 점검 방법

자동진단(자동화 점검 도구), 수동진단(점검자가 직접 매뉴얼로 진단)
소스코드 점검 : secure coding - 취약점이 있는 library를 갖다 쓰는 경우

스캐닝 : 공격 대상에 대한 정보를 얻기

호스트 탐색 : 네트워크에 연결되어 있는 시스템을 파악하는 것 : **NAT로 보완** (내부 시스템을 스캐닝하지 못하도록)

포트 스캐닝 : **어떤 포트를 통해(어떤 어플리케이션을 통해) 접근할 수 있는지**

운영체제 탐색 : 일밙거으로 운영체제 탐색은 포트 스캐닝과 함께 이루어짐

보안 취약점 점검 : 다양한 점검도구가 있다

웹 프록시 툴 : 모두 지나가게 하여 스니핑하는 도구

버프슈트 : 웹 프록시 도구

쿡시 툴바 : 쿠키값을 제어할 수 있다, 다양한 기능이 존재

OWASP-ZAP : 산업 표준(de facto) OWASP의 공개용 웹 취약점 점검 진단 기준
- **Fuzzer** : 취약점을 찾는 툴 (다양한 입력, interrup를 걸어서(Fuzzing) crash를 유도하여 취약점 점검)
- **AI Fuzzer** : 단순한 입력이 아니라 다양한 시도를 통해 Fuzzing을 하고 이를 통해 깊이있는 취약점을 발견

모의 취약점 점검 : blue team, red team, ~~~ box

가상 머신 환경 구축 : 웹 모의 해킹에서 사용, **honeypot, honeynet**

웹 어플리케이션 보안 취약점 : SQL Injection XCC, 파일 업로드

운영체제 명령 실행 취약점

파일 업로드 취약점 : 웹쉘 업로드 시도

SQL Injection 취약점 : 문자열에 대해 유효성 검사를 실시

Xpath Injection 취약점 : 특정 디렉터리에 파일

=> **입력값 검증이 중요**

정보누출 취약점 : 주석구문을 포함시키 않도록

평문전송 취약점 : 시큐어 코딩, 암호화 필요

관리자 페이지 노출 취약점

위치 공개 취약점

경로 추적 취약점 :디렉터리 접근 통제

악성 콘텐츠 취약점

**XSS 취약점 : 공격자의 스크립트가 피공격자의 시스템에서 실행되고 피공격자의 쿠키 정보를 전송하여 추가적인 공격 실행**

취약점 점검 방법, 대응 방법

약한 문자열 강도 취약점

불충분한 인증 및 인가 취약점

**불충분한 세션 관리 취약점**

**CSRF 취약점 (다른 시스템에서 위조된 요청을 보낸다)**
1. 공격자는 CSRF 스크립트를 업로드
2. 피해자는 해당 게시글을 통해 스크립트 다운로드
3. 피해자의 권한으로 CSRF 실행 (조작된 요청이 작성된 스크립트가 실행)

: 임의의 토큰을 추가하여 정상/비정상 요청을 판별한다

쿠키 변조 취약점

continuous Auth : 쓰다가 중간에 한번씩 체크

디렉터리 인덱싱 취약점

자동화 공격 취약점

구글 해킹 : 개인정보 등을 이용

**Mydata 사업 : 개인정보(금융정보, 의료정보)를 개인이 통제할 수 있게 한다**`
`
#7장. 악성코드분석 기초

네트워크를 타고 퍼져나가는것 : 웜

트로이목마 : 알려진 프로그램 안에 실행코드를 넣는다

바이러스 분류
- 기생형 바이러스
- 겹쳐 쓰기형 바이러스
- 산란형 바이러스
- 연결형 바이러스
- ...

매크로 바이러스

트로이 목마

이메일을 통한 유포, 드라이브 바이 다운로드 (Redirect)

긴급 패치, 백신 제작

악성코드 분석 방법 : 디버깅 (Reverse Engineering)

안티 리버싱, 역분석 크래커를 지치게 하는 것

동적 분석 : 실행시켜서 분석, code coverage 범위가 중요

행위 분석 방식, 리버싱

YARA : 시그니쳐

정적 분석(Graph, Flow 활용) : wrapping(packing), 바이너리 코드 꺼내기도 어렵다.
요즘은 외부 서버와 연결하여 라이브러리 링크하는 기능 사용

#7장-1. 안드로이드 악성코드분석 기초

안드로이드 악성코드 분석 방법

안드로이드 APK 추출 (1)

웹사이트, Google Play Store

ADB를 이용하여 추출

정적 분석 기술
- Manifest 분석 : AndroidManifest.xml 파일을 분석 : Permission 제공
- SDK 분석 : classes.dex 파일을 디컴파일하여 분석
- NDK 분석 ; .so 파일 분석
- 응용 분석 : Taint, Data flow Analysis

안드로이드 악성코드 정적 분석 : apktool을 이용해 리소스 형태로 압축 해제

AndroidManifest.xml 분석

Smali 분석 : Dex바이너리를 사람이 읽을 수 있도록 표현한 언어

dex2jar를 이용한 jar 파일 생성

jd-jui를 이용한 java 코드 확인

안드로이드 Repackaging을 통한 분석 : 소스코드에 후킹을 대신하는 바이너리 커널 코드를 붙여 repackaging한다

난독화 기법이 적용된 악성코드

**패킹**
Compressor, Protector

안드로이드 정적 분석의 한계

동적 분석 기술

안드로이드 악성코드 동적 분석

안드로이드 디버깅

동적 분석 툴 - Frida



# 8장. 침해사고분석 및 디지털포렌식

침해사고분석

디지털 증거의 4대 원칙



`
